(()=>{const e=document.createElement("div");e.style.display="block",e.style.all="initial",e.attachShadow({mode:"open"}).innerHTML="",document.body.appendChild(e),function(){const e=new URLSearchParams(window.location.search).get("fc_refer_hash");if(e)try{localStorage.setItem("fc_refer_hash",e)}catch(e){console.log("error in storeReferHash",e)}}(),function(){const e=document.querySelector("#fc-wallet-19212");async function t(){const t=e.getAttribute("data-customer-id"),a=e.getAttribute("data-customer-tag")?.trim(),o=e.getAttribute("data-client-id");t&&await async function({customer_id:e,customer_tags:t,client_id:a}){const o=localStorage.getItem("fc_refer_hash");if(o)try{await fetch("https://fastloyalty-api.farziengineer.co/redeem-referral-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:e,user_hash:t,client_id:a,refer_hash:o})}),localStorage.removeItem("fc_refer_hash")}catch(e){console.log("error in redeemReferHash",e)}}({customer_id:t,customer_tags:a,client_id:o})}"SPA"!==e.getAttribute("platform-type")&&("complete"===document.readyState?t():window.addEventListener("load",t))}()})();