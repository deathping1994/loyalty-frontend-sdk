(()=>{const e=document.createElement("div");e.style.display="block",e.style.all="initial",e.attachShadow({mode:"open"}).innerHTML="",document.body.appendChild(e),function(){const e=new URLSearchParams(window.location.search).get("fc_refer_hash");if(e)try{localStorage.setItem("fc_refer_hash",e)}catch(e){console.log("error in storeReferHash",e)}}(),function(){const e=document.querySelector("#fc-wallet-referral-snippet-script-19212");async function t(){const t=e.getAttribute("data-customer-id"),r=e.getAttribute("data-customer-tag")?.trim(),a=e.getAttribute("data-client-id");t&&await async function({customer_id:e,customer_tags:t,client_id:r}){const a=localStorage.getItem("fc_refer_hash");if(a)try{await fetch("https://fastloyaltyapi.farziengineer.co/redeem-referral-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:e,user_hash:t,client_id:r,refer_hash:a})}),localStorage.removeItem("fc_refer_hash")}catch(e){console.log("error in redeemReferHash",e)}}({customer_id:t,customer_tags:r,client_id:a})}"SPA"!==e.getAttribute("platform-type")&&("complete"===document.readyState?t():window.addEventListener("load",t))}()})();